<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style type="text/css">
    textarea{
    	width: 500px;
    	height: 100px;
    }
    iframe{
    	margin-top: 50px;
    	width: 100%;
    	height: 300px;
    	border:1px solid #ccc;
    }
    </style>
</head>

<body>
    <form id="form">
        <textarea id="msg" required></textarea>
        <div>
        	<input type="submit" value="发送" />
        </div>
    </form>

    <div>
        <iframe src="http://test.pcauto.com.cn/github/test/2018/0330/postMessage/postMessage_B.html"></iframe>
    </div>
    <script type="text/javascript">
    form.onsubmit = function() {

        window.frames[0].postMessage(msg.value, "http://test.pcauto.com.cn");

        return false;
    }

    window.addEventListener("message",function(e){
    	console.log(e);

    })
    </script>
</body>

</html>